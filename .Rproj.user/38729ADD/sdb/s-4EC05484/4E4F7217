{
    "contents" : "# Food Insecurity map US counties from USDA.  Fast way to view maps of data to visually reconize what is occurring.\n# this is easy way to create maps using ggplot2\nlibrary(choroplethr)\nlibrary(gridExtra)\nlibrary(ggplot2)\n# data found http://www.ers.usda.gov/datafiles/Food_Environment_Atlas/Data_Access_and_Documentation_Downloads/Current_Version/DataDownload.xls\n# excel file saved as csv files, one for each tab and in data folder\nloc = dir(\"Data/food/\")\nloc\n# here is what the dir should show but if it doesn't choose your number to run map.  Look up the key using var.list\n# [1] \"Access.csv\"                   [2]\"Assistance.csv\"               [3]  \"Health.csv\"                    \n# [4] \"Insecurity.csv\"               [5] \"Local.csv\"                   [6]   \"Prices_taxes.csv\"              \n# [7] \"Restaurants.csv\"              [8]  \"Socioeconomic.csv\"          [9]   \"Stores.csv\"                    \n# [10] \"Supplemental Data - County.csv\" [11] \"Supplemental Data - State.csv\"  [12] \"Variable_List.csv\" \n\n# choose a number to get the file [ place num here]\nfile.name = loc[5]\n\nbase = \"Data/food/\"\nname = paste0(base, file.name, sep=\"\")\nfile <- read.csv(name, sep=\",\", as.is=TRUE, header=TRUE)\n\n# get the variables to list and specific category to map\nvl = paste0(base, loc[12], sep=\"\")\nvar.list <- read.csv(vl, sep=\",\", as.is=TRUE, header=TRUE)                      \nvar.list = subset(var.list, Category.Code == toupper(gsub(\".csv\", '', file.name)))\nVar.Code = as.list(paste( var.list$Variable.Code))\n\n# This prints out as view.code the list of categories available to map \nView.Code = as.list(paste( var.list$Variable.Name))\nView.Code\n# stop here and view what sub dataset you like\n\n# place the number of field to map for category and place in [X] this uses this group to create map\nVar.Code = as.character(Var.Code[7])\ntitle.map = paste(View.Code[7], sep='')\n# place the df to map here\ndf = file\n# grab the variable from \ndf = df[, c(Var.Code, \"FIPS\")]\nnames(df) = c(\"value\", \"region\")\n\ninland_nw = c(\"WA\", \"OR\", \"ID\", \"MT\", \"WY\")\n# choroplethr(df, \"county\", title=title.map, states= inland_nw)\n\n# Create map using choroplethr function\nfarmers_market = choroplethr(df, \"county\", title=title.map, states=inland_nw)\n\nsource('~/Dev/r/choroplethr/Make Maps/BEA Map Tool farm income.R')\nfarm_income <- choroplethr(df, \"county\", title= title.var, states= inland_nw, num_buckets=8)\n\ngrid.arrange(farmers_market, farm_income, nrow=1, ncol=2)\n\n\n\n",
    "created" : 1395197458494.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2255629814",
    "id" : "4E4F7217",
    "lastKnownWriteTime" : 1395197543,
    "path" : "~/Dev/r/gist/food security/Map USDA Food Security.R",
    "project_path" : "Map USDA Food Security.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}